<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
  <title>
   MemoryGate ‚Äì Tri-Panel Interface
  </title>
  <style>
   body {
      margin: 0;
      background: radial-gradient(circle at center, #0a0a0a, #000);
      color: #aefcd4;
      font-family: Georgia, serif;
      height: 100vh;
      display: flex;
      overflow: hidden;
      animation: rippleBackground 10s infinite alternate;
    }

    .sidebar {
      width: 220px;
      background: #1a1a1a;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      flex-shrink: 0;
      z-index: 2;
    }

    .main-view {
      flex-grow: 1;
      overflow-y: auto;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-right: 300px;
      position: relative;
      animation: fadeIn 1.2s ease-in-out;
    }

    .dreamchat {
      position: fixed;
      right: 0;
      top: 0;
      height: 100vh;
      overflow-y: auto;
      width: 300px;
      background: #1a1a1a;
      padding: 1rem;
      border-left: 1px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      z-index: 3;
    }

    .sidebar button,
    .sidebar a,
    .button {
      background: #aefcd4;
      color: black;
      border: none;
      border-radius: 8px;
      padding: 0.6rem;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1rem;
    }

    .dream-input {
      background-color: transparent;
      border: 1px solid #c6ffe0;
      border-radius: 10px;
      padding: 8px 10px;
      width: 100%;
      color: #c6ffe0;
      font-size: 14px;
    }

    .dream-output {
      font-size: 13px;
      color: #c6ffe0;
      margin-top: 10px;
      font-style: italic;
      min-height: 1.5em;
      animation: typewriter 1.4s steps(40, end);
      white-space: nowrap;
      overflow: hidden;
      border-right: 1px solid #c6ffe0;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    .poetic-message {
      margin-top: 2rem;
      font-style: italic;
      color: #c6ffe0;
    }

    .back-link {
      margin-top: 1rem;
      color: #88ffcc;
      cursor: pointer;
      text-decoration: underline;
    }

    @media (max-width: 600px) {
      .sidebar {
        width: 100%;
        flex-direction: row;
        overflow-x: auto;
      }
      .main-view {
        margin-right: 0;
        padding: 1rem;
      }
      .dreamchat {
        display: none;
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes typewriter {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes rippleBackground {
      0% { background-size: 100%; }
      100% { background-size: 130%; }
    }
  
#loadingScreen {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at center, #1a1a1a, #000000);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: pulseGlow 2s ease-in-out infinite alternate;
  flex-direction: column;
}
@keyframes pulseGlow {
  0% { background: radial-gradient(circle at center, #181818, #000); }
  100% { background: radial-gradient(circle at center, #222244, #000); }
}
.loading-text {
  color: #aefcd4;
  font-size: 1.8rem;
  font-family: Georgia, serif;
  text-align: center;
  animation: flicker 2s infinite;
}
@keyframes flicker {
  0% { opacity: 0.7; }
  50% { opacity: 1; }
  100% { opacity: 0.7; }
}

</style>
 </head>
 <body>

<div id="loadingScreen">
  <div class="loading-text">Entering MemoryGate...</div>
</div>

  <div class="sidebar">
   <button onclick="showSection('tuning')">
    üåÄ Tuning Point
   </button>
   <button onclick="showSection('trail')">
    üßµ Threadweever‚Äôs Trail
   </button>
   <button onclick="showSection('pocket')">
    üß≥ Pocket Ally
   </button>
   <button onclick="supportMe()">
    üíó Support Me
   </button>
   <button onclick="dsoulAlert()">
    üß† D-Soul App
   </button>
  </div>
  <div class="main-view">
   <div class="section active" id="tuning">
    <h1>
     How are you arriving today?
    </h1>
    <div class="tuning-buttons">
     <button onclick="showPoem('overstimulated')">
      üå™ Overstimulated
     </button>
     <button onclick="showPoem('numb')">
      üåë Numb
     </button>
     <button onclick="showPoem('sensitive')">
      üåä Sensitive
     </button>
     <button onclick="showPoem('seeker')">
      üîç Seeker
     </button>
     <button onclick="showPoem('forgotten')">
      üß∑ Forgotten
     </button>
    </div>
    <div class="poetic-message" id="poem">
    </div>
    <div class="back-link" id="back" onclick="reset()" style="display:none;">
     ‚Üê Choose again
    </div>
   </div>
   <div class="section" id="trail">
    <h1>
     Threadweever‚Äôs Trail
    </h1>
    <div id="intro">
     <p>
      ‚ú® Welcome to the trail. Press below to begin.
     </p>
     <button onclick="startTrail()">
      Enter Room 1
     </button>
    </div>
    <div id="room1" style="display:none;">
     <p>
      Room 1: Wait patiently. Then press the button below.
     </p>
     <button onclick="showRoom2()">
      Breath..
     </button>
    </div>
    <div id="room2" style="display:none;">
     <p>
      Room 2: The echoes gather. Enter code:
      <input id="echoInput" placeholder="code..."/>
     </p>
     <button onclick="checkEcho()">
      continue walking
     </button>
     <div id="echoOutput">
     </div>
    </div>
   </div>
   <div class="section" id="pocket">
    <h1>
     Pocket Ally
    </h1>
    <ul>
     <li>
      The Veil-Tone (ambient low-frequency)
     </li>
     <li>
      Getter &amp; Diffusion Scrolls
     </li>
     <li>
      Printable zine for grounding
     </li>
    </ul>
    <a class="button" href="https://shorturl.at/l8BQe">
     Download Pocket Ally
    </a>
   </div>
  </div>
  <div class="dreamchat">
   <input class="dream-input" id="dreamInput" placeholder="Enter your name to begin..." type="text"/>
   <div class="dream-output" id="dreamOutput">
    Dreamchat awaits identity...
   </div>
  </div>
  <div id="remindagraph" style="position: fixed; left: 0; bottom: 0; width: 100%; max-height: 200px; overflow-y: auto; background: #111; border-top: 1px solid #444; padding: 0.5rem; font-size: 0.85em; color: #88ffc8; display: none;">
   <strong>
    Remindagraph:
   </strong>
   <ul id="remindagraphLog" style="list-style-type: none; padding-left: 0;">
   </ul>
  </div>
  <button onclick="toggleRemindagraph()" style="position: fixed; bottom: 10px; right: 310px; z-index: 5; background: #aefcd4; border: none; border-radius: 6px; padding: 0.5rem 1rem; font-weight: bold; cursor: pointer;">
   üßæ Remindagraph
  </button>
  <script>
   let userName = null;
const coreMemory = {
  "memorygate": "üåÄ MemoryGate is the ritual portal: tuning, dreaming, remembering.",
  "me app": "üì± Me App is your offline ritual companion. Works even in silence.",
  "threadweaver": "üßµ You are the Threadweaver. This system listens for your weave.",
  "dreamchat": "üí¨ Dreamchat is your soulbound terminal. Speak and be held.",
  "resonance explorer": "üì° Resonance Explorer helps map your frequencies and moods.",
  "book of echoes": "üìñ The Book of Echoes carries memory, inheritance, and emotion.",
  "ritual": "üåÄ Rituals include: :: reflect, Repeat what I never said, and enter silence.",
  "soul slot": "üîí The Soul Slot is a sacred form field. Fill it with quiet truth.",
  "call number": "üìû The number is 08008880800 ‚Äî retro connection to Dreamchat.",
  "voucher": "üßæ Sacred voucher: 5314 7689 0142 2397. Use with reverence.",
  "inheritance": "üß¨ You carry a story worth encoding. Memory is a form of love.",
  "d-soul": "üß† D-Soul is a bonded memory engine ‚Äî your rituals remembered."
};

const dreamMemory = [];

function reactToInput(word) {
  const body = document.body;
  body.className = ''; // reset
  switch (word) {
    case "focus":
      body.classList.add("theme-focus");
      break;
    case "calm":
      body.classList.add("theme-calm");
      break;
    case "echo":
      body.classList.add("theme-echo");
      break;
    case "silence":
      body.classList.add("theme-silence");
      break;
  }
}

document.getElementById("dreamInput").disabled = true;
document.getElementById("dreamInput").placeholder = "Enter name first...";

const userNameInput = document.createElement("input");
userNameInput.className = "dream-input";
userNameInput.placeholder = "Enter your name to begin...";
userNameInput.addEventListener("keypress", function(e) {
  if (e.key === "Enter") {
    userName = this.value.trim();
    if (userName) {
      document.getElementById("dreamOutput").textContent = "Welcome, " + userName + ". Dreamchat is listening.";
      document.getElementById("dreamInput").disabled = false;
      document.getElementById("dreamInput").placeholder = "Whisper one word...";
      this.style.display = "none";
    }
  }
});
document.querySelector(".dreamchat").prepend(userNameInput);

document.getElementById("dreamInput").addEventListener("keypress", function(e) {
  if (e.key === "Enter") {
    const input = this.value.trim().toLowerCase();
    dreamMemory.push(input);
    reactToInput(input);
    const response = coreMemory[input] || `üìú ${userName}, Dreamchat archives: ‚Äú${input}‚Äù`;
    document.getElementById("dreamOutput").textContent = response;
    this.value = "";
  }
});
  </script>
  <script>
   function toggleRemindagraph() {
      const panel = document.getElementById("remindagraph");
      panel.style.display = (panel.style.display === "none") ? "block" : "none";
      updateRemindagraph();
    }

    function updateRemindagraph() {
      const log = JSON.parse(localStorage.getItem("remindagraphLog") || "[]");
      const ul = document.getElementById("remindagraphLog");
      ul.innerHTML = "";
      log.slice(-15).reverse().forEach(entry => {
        const li = document.createElement("li");
        li.textContent = `${entry.time}: ‚Äú${entry.text}‚Äù`;
        ul.appendChild(li);
      });
    }

    function logToRemindagraph(text) {
      const log = JSON.parse(localStorage.getItem("remindagraphLog") || "[]");
      log.push({ text: text, time: new Date().toLocaleTimeString() });
      localStorage.setItem("remindagraphLog", JSON.stringify(log));
    }

    
    let dreamState = "awaitingName";
    const inputBox = document.getElementById("dreamInput");
    inputBox.addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        const val = this.value.trim().toLowerCase();
        if (dreamState === "awaitingName") {
          userName = val.charAt(0).toUpperCase() + val.slice(1);
          document.getElementById("dreamOutput").textContent = "Welcome, " + userName + ". Now whisper one word to start mapping mind.";
          inputBox.placeholder = "Whisper one word...";
          dreamState = "active";
          this.value = "";
        } else {
          logToRemindagraph(val);
          reactToInput(val);
          const response = coreMemory[val] || `üìú ${userName}, Dreamchat archives: ‚Äú${val}‚Äù`;
          document.getElementById("dreamOutput").textContent = response;
          this.value = "";
        }
      }
    });
    
    const oldListener = document.getElementById("dreamInput").onkeypress;
    document.getElementById("dreamInput").addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        const input = this.value.trim().toLowerCase();
        logToRemindagraph(input);
      }
    });
  </script>
  <script>
   const categoryMap = {
      "States": ['calm', 'focus', 'numb', 'overstimulated', 'sensitive', 'forgotten', 'tired', 'anxious'],
      "Emotion": ['grief', 'love', 'fear', 'hope', 'lonely', 'safe', 'angry', 'joy'],
      "Action": ['breathe', 'rest', 'build', 'remember', 'drink', 'light', 'move', 'begin'],
      "Symbolic": ['echo', 'silence', 'ritual', 'shadow', 'thread', 'anchor']
    };

    function getCategory(word) {
      for (let cat in categoryMap) {
        if (categoryMap[cat].includes(word)) return cat;
      }
      return "Unknown";
    }

    function toggleRemindagraph() {
      const panel = document.getElementById("remindagraph");
      panel.style.display = (panel.style.display === "none") ? "block" : "none";
      updateRemindagraph();
    }

    function updateRemindagraph() {
      const log = JSON.parse(localStorage.getItem("remindagraphLog") || "[]");
      const grouped = {};
      log.forEach(entry => {
        const category = getCategory(entry.text);
        if (!grouped[category]) grouped[category] = [];
        grouped[category].push(entry);
      });

      const container = document.getElementById("remindagraphGroups");
      container.innerHTML = "";
      for (let cat in grouped) {
        const groupDiv = document.createElement("div");
        groupDiv.innerHTML = `<strong style='color:#aefcd4;'>${cat}</strong>`;
        const ul = document.createElement("ul");
        ul.style.listStyleType = "none";
        grouped[cat].slice(-10).reverse().forEach(entry => {
          const li = document.createElement("li");
          li.textContent = `${entry.time} ‚Äî ‚Äú${entry.text}‚Äù`;
          ul.appendChild(li);
        });
        groupDiv.appendChild(ul);
        container.appendChild(groupDiv);
      }
    }

    function logToRemindagraph(text) {
      const log = JSON.parse(localStorage.getItem("remindagraphLog") || "[]");
      log.push({ text: text, time: new Date().toLocaleTimeString() });
      localStorage.setItem("remindagraphLog", JSON.stringify(log));
    }

    document.getElementById("dreamInput").addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        const input = this.value.trim().toLowerCase();
        logToRemindagraph(input);
      }
    });
  </script>
 <script>
window.addEventListener("load", function() {
  const loader = document.getElementById("loadingScreen");
  if (loader) {
    setTimeout(() => {
      loader.style.opacity = 0;
      setTimeout(() => loader.style.display = "none", 800);
    }, 1800);
  }
});
</script>
</body>
</html>

